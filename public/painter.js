var _0x18d8=["abs","sqrt","x","y","distanceTo","prototype","isEqualTo","dx","dy","vector: invalid input vector","radAngleOX","atan2","degreeAngleOX","PI","getLength","Line: Invalid inputs","a","b","c","isContains","valueAt","intersectType","numIntersectPoints: invalid input lines","LineSegment: invalid input points","p1","p2","length","getLine","isIntersectWithLine","isIntersectWithLineSegment","addEventListener","load","pencil","imageView","getElementById","Error: I cannot find the canvas element!","getContext","Error: no canvas.getContext!","2d","Error: failed to getContext!","parentNode","canvas","createElement","Error: I cannot create a new canvas element!","id","imageTemp","width","height","appendChild","mousedown","mousemove","mouseup","layerX","_x","_y","layerY","offsetX","offsetY","type","drawImage","clearRect","detecting shape: ","log","","splice","just remove an element ","new len: ","push","breakpoints before merge: ","remove one out of break points","breakpoints after merge: ",",","beginPath","strokeStyle","#F00","#0F0","moveTo","lineTo","stroke","closePath","It\x27s just a zigzag","You just draw a triangle","You just draw a quadrangle","You just draw a polygon","id_message","lastChild","removeChild","createTextNode","#000","started"];epsilon=0.00001;function isEqual(_0xf1a6x2,_0xf1a6x3){return Math[_0x18d8[0]](_0xf1a6x2-_0xf1a6x3)<epsilon;} ;function distance4(_0xf1a6x5,_0xf1a6x6,_0xf1a6x7,_0xf1a6x8){var _0xf1a6x9=_0xf1a6x5-_0xf1a6x7;var _0xf1a6xa=_0xf1a6x6-_0xf1a6x8;return Math[_0x18d8[1]](_0xf1a6x9*_0xf1a6x9+_0xf1a6xa*_0xf1a6xa);} ;function Point(_0xf1a6x2,_0xf1a6x3){this[_0x18d8[2]]=_0xf1a6x2;this[_0x18d8[3]]=_0xf1a6x3;} ;function distance(p1,p2){return distance4(p1[_0x18d8[2]],p1[_0x18d8[3]],p2[_0x18d8[2]],p2[_0x18d8[3]]);} ;Point[_0x18d8[5]][_0x18d8[4]]=function (_0xf1a6xf){return distance(this,_0xf1a6xf);} ;Point[_0x18d8[5]][_0x18d8[6]]=function (_0xf1a6xf){return (isEqual(this[_0x18d8[2]],_0xf1a6xf[_0x18d8[2]])&&isEqual(this[_0x18d8[3]],_0xf1a6xf[_0x18d8[3]]));} ;function Vector(_0xf1a6x11,_0xf1a6x12){if(_0xf1a6x11 instanceof Point){var p1=_0xf1a6x11;var p2=_0xf1a6x12;this[_0x18d8[7]]=p2[_0x18d8[2]]-p1[_0x18d8[2]];this[_0x18d8[8]]=p2[_0x18d8[3]]-p1[_0x18d8[3]];} else {if(_0xf1a6x11==0&&_0xf1a6x12==0){throw _0x18d8[9];} ;this[_0x18d8[7]]=_0xf1a6x11;this[_0x18d8[8]]=_0xf1a6x12;} ;} ;Vector[_0x18d8[5]][_0x18d8[10]]=function (){return Math[_0x18d8[11]](this[_0x18d8[8]],this[_0x18d8[7]]);} ;Vector[_0x18d8[5]][_0x18d8[12]]=function (){return this[_0x18d8[10]]()*180/Math[_0x18d8[13]];} ;Vector[_0x18d8[5]][_0x18d8[14]]=function (){return Math[_0x18d8[1]](this[_0x18d8[7]]*this[_0x18d8[7]]+this[_0x18d8[8]]*this[_0x18d8[8]]);} ;function Line(_0xf1a6x14,_0xf1a6x15,_0xf1a6x16){if(_0xf1a6x16!=null){if(isEqual(_0xf1a6x14,0)&&isEqual(_0xf1a6x15,0)){throw _0x18d8[15];} ;this[_0x18d8[16]]=_0xf1a6x14;this[_0x18d8[17]]=_0xf1a6x15;this[_0x18d8[18]]=_0xf1a6x16;} else {var p1=_0xf1a6x14;var p2=_0xf1a6x15;dx=p2[_0x18d8[2]]-p1[_0x18d8[2]];dy=p2[_0x18d8[3]]-p1[_0x18d8[3]];this[_0x18d8[16]]=dy;this[_0x18d8[17]]=-dx;this[_0x18d8[18]]=-dy*p1[_0x18d8[2]]+dx*p1[_0x18d8[3]];if(isEqual(this[_0x18d8[16]],0)&&isEqual(this[_0x18d8[17]],0)){throw _0x18d8[15];} ;} ;} ;Line[_0x18d8[5]][_0x18d8[19]]=function (_0xf1a6xf){return isEqual(this[_0x18d8[20]](_0xf1a6xf[_0x18d8[2]],_0xf1a6xf[_0x18d8[3]]),0);} ;Line[_0x18d8[5]][_0x18d8[20]]=function (_0xf1a6x2,_0xf1a6x3){return this[_0x18d8[16]]*_0xf1a6x2+this[_0x18d8[17]]*_0xf1a6x3+this[_0x18d8[18]];} ;Line[_0x18d8[5]][_0x18d8[21]]=function (l){var _0xf1a6x18=[this[_0x18d8[16]],this[_0x18d8[17]]];var _0xf1a6x19=[l[_0x18d8[16]],l[_0x18d8[17]]];var _0xf1a6x1a=[null,null];for(var _0xf1a6x1b=0;_0xf1a6x1b<2;_0xf1a6x1b++){if(_0xf1a6x19[_0xf1a6x1b]==0){if(_0xf1a6x18[_0xf1a6x1b]!=0){return 1;} ;} else {_0xf1a6x1a[_0xf1a6x1b]=_0xf1a6x18[_0xf1a6x1b]*1.0/_0xf1a6x19[_0xf1a6x1b];} ;} ;hctype=1;hcval=null;if(l[_0x18d8[18]]==0){if(this[_0x18d8[18]]==0){hctype=0;} else {hctype=-1;} ;} ;if(hctype>0){hcval=this[_0x18d8[18]]*1.0/l[_0x18d8[18]];} ;if(_0xf1a6x1a[0]==null){if(_0xf1a6x1a[1]==null){throw _0x18d8[22];} else {if(hctype==0||hctype>0&&isEqual(hcval,_0xf1a6x1a[1])){return 0;} else {return -1;} ;} ;} else {if(_0xf1a6x1a[1]==null){if(hctype==0||hctype>0&&isEqual(hcval,_0xf1a6x1a[0])){return 0;} else {return -1;} ;} else {} ;} ;} ;function LineSegment(p1,p2){if(p1[_0x18d8[6]](p2)){throw _0x18d8[23];} ;this[_0x18d8[24]]=p1;this[_0x18d8[25]]=p2;} ;LineSegment[_0x18d8[5]][_0x18d8[26]]=function (){return this[_0x18d8[24]][_0x18d8[4]](p2);} ;LineSegment[_0x18d8[5]][_0x18d8[27]]=function (){return  new Line(this[_0x18d8[24]],this[_0x18d8[25]]);} ;LineSegment[_0x18d8[5]][_0x18d8[19]]=function (_0xf1a6xf){var l= new Line(this[_0x18d8[24]],this[_0x18d8[25]]);return l[_0x18d8[19]](_0xf1a6xf)&&isEqual(this[_0x18d8[26]](),p1[_0x18d8[4]](_0xf1a6xf)+p2[_0x18d8[4]](_0xf1a6xf));} ;LineSegment[_0x18d8[5]][_0x18d8[28]]=function (l){return l[_0x18d8[20]](this[_0x18d8[24]][_0x18d8[2]],this[_0x18d8[24]][_0x18d8[3]])*l[_0x18d8[20]](this[_0x18d8[25]][_0x18d8[2]],this[_0x18d8[25]][_0x18d8[3]])<=0;} ;LineSegment[_0x18d8[5]][_0x18d8[29]]=function (ls){return (ls[_0x18d8[27]]()[_0x18d8[20]](this[_0x18d8[24]][_0x18d8[2]],this[_0x18d8[24]][_0x18d8[3]])*ls[_0x18d8[27]]()[_0x18d8[20]](this[_0x18d8[25]][_0x18d8[2]],this[_0x18d8[25]][_0x18d8[3]])<=0)&&(this[_0x18d8[27]]()[_0x18d8[20]](ls[_0x18d8[24]][_0x18d8[2]],ls[_0x18d8[24]][_0x18d8[3]])*this[_0x18d8[27]]()[_0x18d8[20]](ls[_0x18d8[25]][_0x18d8[2]],ls[_0x18d8[25]][_0x18d8[3]])<=0);} ;var p1= new Point(1.1,1.1);var p2= new Point(1.1001,1.10001);var l= new Line(p1,p2);var ls= new LineSegment(p1,p2);var v= new Vector(0,-1);var d=v[_0x18d8[10]]()*180/Math[_0x18d8[13]];if(window[_0x18d8[30]]){window[_0x18d8[30]](_0x18d8[31],function (){var _0xf1a6x20,_0xf1a6x21,_0xf1a6x22,_0xf1a6x23;var _0xf1a6x24;var _0xf1a6x25=_0x18d8[32];function _0xf1a6x26(){_0xf1a6x22=document[_0x18d8[34]](_0x18d8[33]);if(!_0xf1a6x22){alert(_0x18d8[35]);return ;} ;if(!_0xf1a6x22[_0x18d8[36]]){alert(_0x18d8[37]);return ;} ;_0xf1a6x23=_0xf1a6x22[_0x18d8[36]](_0x18d8[38]);if(!_0xf1a6x23){alert(_0x18d8[39]);return ;} ;var _0xf1a6x27=_0xf1a6x22[_0x18d8[40]];_0xf1a6x20=document[_0x18d8[42]](_0x18d8[41]);if(!_0xf1a6x20){alert(_0x18d8[43]);return ;} ;_0xf1a6x20[_0x18d8[44]]=_0x18d8[45];_0xf1a6x20[_0x18d8[46]]=_0xf1a6x22[_0x18d8[46]];_0xf1a6x20[_0x18d8[47]]=_0xf1a6x22[_0x18d8[47]];_0xf1a6x27[_0x18d8[48]](_0xf1a6x20);_0xf1a6x21=_0xf1a6x20[_0x18d8[36]](_0x18d8[38]);if(_0xf1a6x2c[_0xf1a6x25]){_0xf1a6x24= new _0xf1a6x2c[_0xf1a6x25]();} ;_0xf1a6x20[_0x18d8[30]](_0x18d8[49],_0xf1a6x28,false);_0xf1a6x20[_0x18d8[30]](_0x18d8[50],_0xf1a6x28,false);_0xf1a6x20[_0x18d8[30]](_0x18d8[51],_0xf1a6x28,false);} ;function _0xf1a6x28(_0xf1a6x29){if(_0xf1a6x29[_0x18d8[52]]||_0xf1a6x29[_0x18d8[52]]==0){_0xf1a6x29[_0x18d8[53]]=_0xf1a6x29[_0x18d8[52]];_0xf1a6x29[_0x18d8[54]]=_0xf1a6x29[_0x18d8[55]];} else {if(_0xf1a6x29[_0x18d8[56]]||_0xf1a6x29[_0x18d8[56]]==0){_0xf1a6x29[_0x18d8[53]]=_0xf1a6x29[_0x18d8[56]];_0xf1a6x29[_0x18d8[54]]=_0xf1a6x29[_0x18d8[57]];} ;} ;var _0xf1a6x2a=_0xf1a6x24[_0xf1a6x29[_0x18d8[58]]];if(_0xf1a6x2a){_0xf1a6x2a(_0xf1a6x29);} ;} ;function _0xf1a6x2b(){_0xf1a6x23[_0x18d8[59]](_0xf1a6x20,0,0);_0xf1a6x21[_0x18d8[60]](0,0,_0xf1a6x20[_0x18d8[46]],_0xf1a6x20[_0x18d8[47]]);} ;var _0xf1a6x2c={};var _0xf1a6x2d= new Array();function _0xf1a6x2e(){console[_0x18d8[62]](_0x18d8[61]+_0xf1a6x2d[_0x18d8[26]]);var _0xf1a6x2f=_0x18d8[63];var _0xf1a6x1b=1;while(_0xf1a6x1b<_0xf1a6x2d[_0x18d8[26]]){if(_0xf1a6x2d[_0xf1a6x1b-1][_0x18d8[6]](_0xf1a6x2d[_0xf1a6x1b])){_0xf1a6x2d[_0x18d8[64]](_0xf1a6x1b,1);console[_0x18d8[62]](_0x18d8[65]+_0xf1a6x1b);} else {_0xf1a6x1b++;} ;} ;console[_0x18d8[62]](_0x18d8[66]+_0xf1a6x2d[_0x18d8[26]]);var _0xf1a6x30=20;var _0xf1a6x31=15;var _0xf1a6x32= new Array();var _0xf1a6x1b=1;_0xf1a6x32[_0x18d8[67]](0);while(_0xf1a6x1b<_0xf1a6x2d[_0x18d8[26]]-1){var _0xf1a6x33= new Vector(_0xf1a6x2d[_0xf1a6x32[_0xf1a6x32[_0x18d8[26]]-1]],_0xf1a6x2d[_0xf1a6x1b]);var _0xf1a6x34= new Vector(_0xf1a6x2d[_0xf1a6x1b],_0xf1a6x2d[_0xf1a6x1b+1]);var _0xf1a6x35=_0xf1a6x33[_0x18d8[12]]();var _0xf1a6x36=_0xf1a6x34[_0x18d8[12]]();if(Math[_0x18d8[0]](_0xf1a6x36-_0xf1a6x35)>_0xf1a6x30){var _0xf1a6x37=_0xf1a6x1b+1;var _0xf1a6x38=_0xf1a6x34[_0x18d8[14]]();while(_0xf1a6x37<_0xf1a6x2d[_0x18d8[26]]-1){var _0xf1a6x39= new Vector(_0xf1a6x2d[_0xf1a6x37],_0xf1a6x2d[_0xf1a6x37+1]);var _0xf1a6x3a=_0xf1a6x34[_0x18d8[12]]();var _0xf1a6x3b=_0xf1a6x39[_0x18d8[12]]();if(Math[_0x18d8[0]](_0xf1a6x3b-_0xf1a6x3a)<=_0xf1a6x30){_0xf1a6x38+=_0xf1a6x39[_0x18d8[14]]();} else {break ;} ;_0xf1a6x37++;} ;if(_0xf1a6x38>=_0xf1a6x31){_0xf1a6x32[_0x18d8[67]](_0xf1a6x1b);} else {} ;_0xf1a6x1b=_0xf1a6x37+1;continue ;} ;_0xf1a6x1b++;} ;_0xf1a6x32[_0x18d8[67]](_0xf1a6x2d[_0x18d8[26]]-1);console[_0x18d8[62]](_0x18d8[68]+_0xf1a6x32);var _0xf1a6x1b=1;while(_0xf1a6x1b<_0xf1a6x32[_0x18d8[26]]-1){var _0xf1a6x33= new Vector(_0xf1a6x2d[_0xf1a6x32[_0xf1a6x1b-1]],_0xf1a6x2d[_0xf1a6x32[_0xf1a6x1b]]);if(_0xf1a6x33[_0x18d8[14]]()<_0xf1a6x31){_0xf1a6x32[_0x18d8[64]](_0xf1a6x1b,1);continue ;} ;var _0xf1a6x34= new Vector(_0xf1a6x2d[_0xf1a6x32[_0xf1a6x1b]],_0xf1a6x2d[_0xf1a6x32[_0xf1a6x1b+1]]);var _0xf1a6x35=_0xf1a6x33[_0x18d8[12]]();var _0xf1a6x36=_0xf1a6x34[_0x18d8[12]]();if(Math[_0x18d8[0]](_0xf1a6x35-_0xf1a6x36)<_0xf1a6x30||_0xf1a6x34[_0x18d8[14]]()<_0xf1a6x31){console[_0x18d8[62]](_0x18d8[69]);_0xf1a6x32[_0x18d8[64]](_0xf1a6x1b,1);} else {_0xf1a6x1b++;} ;} ;console[_0x18d8[62]](_0x18d8[70]+_0xf1a6x32);for(var _0xf1a6x1b=0;_0xf1a6x1b<_0xf1a6x32[_0x18d8[26]];_0xf1a6x1b++){var _0xf1a6x3c=_0xf1a6x2d[_0xf1a6x32[_0xf1a6x1b]];console[_0x18d8[62]](_0xf1a6x3c[_0x18d8[2]]+_0x18d8[71]+_0xf1a6x3c[_0x18d8[3]]);} ;for(var _0xf1a6x1b=0;_0xf1a6x1b<_0xf1a6x32[_0x18d8[26]]-1;_0xf1a6x1b++){_0xf1a6x21[_0x18d8[72]]();if(_0xf1a6x1b%2==0){_0xf1a6x21[_0x18d8[73]]=_0x18d8[74];} else {_0xf1a6x21[_0x18d8[73]]=_0x18d8[75];} ;var _0xf1a6x33=_0xf1a6x2d[_0xf1a6x32[_0xf1a6x1b]];var _0xf1a6x34=_0xf1a6x2d[_0xf1a6x32[_0xf1a6x1b+1]];_0xf1a6x21[_0x18d8[76]](_0xf1a6x33[_0x18d8[2]],_0xf1a6x33[_0x18d8[3]]);_0xf1a6x21[_0x18d8[77]](_0xf1a6x34[_0x18d8[2]],_0xf1a6x34[_0x18d8[3]]);_0xf1a6x21[_0x18d8[78]]();_0xf1a6x21[_0x18d8[79]]();} ;var _0xf1a6x38=_0xf1a6x32[_0x18d8[26]];var _0xf1a6x3d=_0x18d8[80];if(_0xf1a6x2d[_0xf1a6x32[0]][_0x18d8[4]](_0xf1a6x2d[_0xf1a6x32[_0xf1a6x38-1]])<30){if(_0xf1a6x32[_0x18d8[26]]==4){_0xf1a6x3d=_0x18d8[81];} else {if(_0xf1a6x32[_0x18d8[26]]==5){_0xf1a6x3d=_0x18d8[82];} else {_0xf1a6x3d=_0x18d8[83];} ;} ;} ;var _0xf1a6x3e=document[_0x18d8[34]](_0x18d8[84]);_0xf1a6x3e[_0x18d8[86]](_0xf1a6x3e[_0x18d8[85]]);_0xf1a6x3e[_0x18d8[48]](document[_0x18d8[87]](_0xf1a6x3d));_0xf1a6x21[_0x18d8[73]]=_0x18d8[88];} ;_0xf1a6x2c[_0x18d8[32]]=function (){var _0xf1a6x24=this;this[_0x18d8[89]]=false;this[_0x18d8[49]]=function (_0xf1a6x29){_0xf1a6x21[_0x18d8[72]]();_0xf1a6x21[_0x18d8[76]](_0xf1a6x29._x,_0xf1a6x29._y);_0xf1a6x24[_0x18d8[89]]=true;_0xf1a6x2d[_0x18d8[26]]=0;} ;this[_0x18d8[50]]=function (_0xf1a6x29){if(_0xf1a6x24[_0x18d8[89]]){_0xf1a6x21[_0x18d8[77]](_0xf1a6x29._x,_0xf1a6x29._y);_0xf1a6x21[_0x18d8[78]]();_0xf1a6x2d[_0x18d8[67]]( new Point(_0xf1a6x29._x,_0xf1a6x29._y));} ;} ;this[_0x18d8[51]]=function (_0xf1a6x29){if(_0xf1a6x24[_0x18d8[89]]){_0xf1a6x24[_0x18d8[50]](_0xf1a6x29);_0xf1a6x24[_0x18d8[89]]=false;_0xf1a6x2b();_0xf1a6x2e();} ;} ;} ;_0xf1a6x26();} ,false);} ;